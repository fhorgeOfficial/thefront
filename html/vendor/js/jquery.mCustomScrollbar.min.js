!function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? module.exports = e : e(jQuery, window, document)
}(function(e) {
    var t, o, a, n;
    t = function() {
        var t, o = "mCustomScrollbar", a = ".mCustomScrollbar", n = {
            setTop: 0,
            setLeft: 0,
            axis: "y",
            scrollbarPosition: "inside",
            scrollInertia: 950,
            autoDraggerLength: !0,
            alwaysShowScrollbar: 0,
            snapOffset: 0,
            mouseWheel: {
                enable: !0,
                scrollAmount: "auto",
                axis: "y",
                deltaFactor: "auto",
                disableOver: ["select", "option", "keygen", "datalist", "textarea"]
            },
            scrollButtons: {
                scrollType: "stepless",
                scrollAmount: "auto"
            },
            keyboard: {
                enable: !0,
                scrollType: "stepless",
                scrollAmount: "auto"
            },
            contentTouchScroll: 25,
            documentTouchScroll: !0,
            advanced: {
                autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                updateOnContentResize: !0,
                updateOnImageLoad: "auto",
                autoUpdateTimeout: 60
            },
            theme: "light",
            callbacks: {
                onTotalScrollOffset: 0,
                onTotalScrollBackOffset: 0,
                alwaysTriggerOffsets: !0
            }
        }, i = 0, r = {}, l = window.attachEvent && !window.addEventListener ? 1 : 0, s = !1, c = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"], d = {
            init: function(t) {
                var t = e.extend(!0, {}, n, t)
                  , o = u.call(this);
                if (t.live) {
                    var l = t.liveSelector || this.selector || a
                      , s = e(l);
                    if ("off" === t.live) {
                        m(l);
                        return
                    }
                    r[l] = setTimeout(function() {
                        s.mCustomScrollbar(t),
                        "once" === t.live && s.length && m(l)
                    }, 500)
                } else
                    m(l);
                return t.setWidth = t.set_width ? t.set_width : t.setWidth,
                t.setHeight = t.set_height ? t.set_height : t.setHeight,
                t.axis = t.horizontalScroll ? "x" : h(t.axis),
                t.scrollInertia = t.scrollInertia > 0 && t.scrollInertia < 17 ? 17 : t.scrollInertia,
                "object" != typeof t.mouseWheel && !0 == t.mouseWheel && (t.mouseWheel = {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: !1,
                    deltaFactor: "auto",
                    normalizeDelta: !1,
                    invert: !1
                }),
                t.mouseWheel.scrollAmount = t.mouseWheelPixels ? t.mouseWheelPixels : t.mouseWheel.scrollAmount,
                t.mouseWheel.normalizeDelta = t.advanced.normalizeMouseWheelDelta ? t.advanced.normalizeMouseWheelDelta : t.mouseWheel.normalizeDelta,
                t.scrollButtons.scrollType = $(t.scrollButtons.scrollType),
                f(t),
                e(o).each(function() {
                    var o = e(this);
                    if (!o.data("mCS")) {
                        o.data("mCS", {
                            idx: ++i,
                            opt: t,
                            scrollRatio: {
                                y: null,
                                x: null
                            },
                            overflowed: null,
                            contentReset: {
                                y: null,
                                x: null
                            },
                            bindEvents: !1,
                            tweenRunning: !1,
                            sequential: {},
                            langDir: o.css("direction"),
                            cbOffsets: null,
                            trigger: null,
                            poll: {
                                size: {
                                    o: 0,
                                    n: 0
                                },
                                img: {
                                    o: 0,
                                    n: 0
                                },
                                change: {
                                    o: 0,
                                    n: 0
                                }
                            }
                        });
                        var a = o.data("mCS")
                          , n = a.opt
                          , r = o.data("mcs-axis")
                          , l = o.data("mcs-scrollbar-position")
                          , s = o.data("mcs-theme");
                        r && (n.axis = r),
                        l && (n.scrollbarPosition = l),
                        s && (n.theme = s,
                        f(n)),
                        p.call(this),
                        a && n.callbacks.onCreate && "function" == typeof n.callbacks.onCreate && n.callbacks.onCreate.call(this),
                        e("#mCSB_" + a.idx + "_container img:not(." + c[2] + ")").addClass(c[2]),
                        d.update.call(null, o)
                    }
                })
            },
            update: function(t, o) {
                return e(t || u.call(this)).each(function() {
                    var t = e(this);
                    if (t.data("mCS")) {
                        var a = t.data("mCS")
                          , n = a.opt
                          , i = e("#mCSB_" + a.idx + "_container")
                          , r = e("#mCSB_" + a.idx)
                          , l = [e("#mCSB_" + a.idx + "_dragger_vertical"), e("#mCSB_" + a.idx + "_dragger_horizontal")];
                        if (!i.length)
                            return;
                        a.tweenRunning && j(t),
                        o && a && n.callbacks.onBeforeUpdate && "function" == typeof n.callbacks.onBeforeUpdate && n.callbacks.onBeforeUpdate.call(this),
                        t.hasClass(c[3]) && t.removeClass(c[3]),
                        t.hasClass(c[4]) && t.removeClass(c[4]),
                        r.css("max-height", "none"),
                        r.height() !== t.height() && r.css("max-height", t.height()),
                        v.call(this),
                        "y" === n.axis || n.advanced.autoExpandHorizontalScroll || i.css("width", g(i)),
                        a.overflowed = w.call(this),
                        T.call(this),
                        n.autoDraggerLength && x.call(this),
                        S.call(this),
                        y.call(this);
                        var s = [Math.abs(i[0].offsetTop), Math.abs(i[0].offsetLeft)];
                        "x" !== n.axis && (a.overflowed[0] ? l[0].height() > l[0].parent().height() ? b.call(this) : (N(t, s[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        }),
                        a.contentReset.y = null) : (b.call(this),
                        "y" === n.axis ? B.call(this) : "yx" === n.axis && a.overflowed[1] && N(t, s[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        }))),
                        "y" !== n.axis && (a.overflowed[1] ? l[1].width() > l[1].parent().width() ? b.call(this) : (N(t, s[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        }),
                        a.contentReset.x = null) : (b.call(this),
                        "x" === n.axis ? B.call(this) : "yx" === n.axis && a.overflowed[0] && N(t, s[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        }))),
                        o && a && (2 === o && n.callbacks.onImageLoad && "function" == typeof n.callbacks.onImageLoad ? n.callbacks.onImageLoad.call(this) : 3 === o && n.callbacks.onSelectorChange && "function" == typeof n.callbacks.onSelectorChange ? n.callbacks.onSelectorChange.call(this) : n.callbacks.onUpdate && "function" == typeof n.callbacks.onUpdate && n.callbacks.onUpdate.call(this)),
                        X.call(this)
                    }
                })
            },
            scrollTo: function(t, o) {
                if (void 0 !== t && null != t)
                    return e(u.call(this)).each(function() {
                        var a = e(this);
                        if (a.data("mCS")) {
                            var n = a.data("mCS")
                              , i = n.opt
                              , r = {
                                trigger: "external",
                                scrollInertia: i.scrollInertia,
                                scrollEasing: "mcsEaseInOut",
                                moveDragger: !1,
                                timeout: 60,
                                callbacks: !0,
                                onStart: !0,
                                onUpdate: !0,
                                onComplete: !0
                            }
                              , l = e.extend(!0, {}, r, o)
                              , s = q.call(this, t)
                              , c = l.scrollInertia > 0 && l.scrollInertia < 17 ? 17 : l.scrollInertia;
                            s[0] = Y.call(this, s[0], "y"),
                            s[1] = Y.call(this, s[1], "x"),
                            l.moveDragger && (s[0] *= n.scrollRatio.y,
                            s[1] *= n.scrollRatio.x),
                            l.dur = eo() ? 0 : c,
                            setTimeout(function() {
                                null !== s[0] && void 0 !== s[0] && "x" !== i.axis && n.overflowed[0] && (l.dir = "y",
                                l.overwrite = "all",
                                N(a, s[0].toString(), l)),
                                null !== s[1] && void 0 !== s[1] && "y" !== i.axis && n.overflowed[1] && (l.dir = "x",
                                l.overwrite = "none",
                                N(a, s[1].toString(), l))
                            }, l.timeout)
                        }
                    })
            },
            stop: function() {
                return e(u.call(this)).each(function() {
                    var t = e(this);
                    t.data("mCS") && j(t)
                })
            },
            disable: function(t) {
                return e(u.call(this)).each(function() {
                    var o = e(this);
                    o.data("mCS") && (o.data("mCS"),
                    X.call(this, "remove"),
                    B.call(this),
                    t && b.call(this),
                    T.call(this, !0),
                    o.addClass(c[3]))
                })
            },
            destroy: function() {
                var t = u.call(this);
                return e(t).each(function() {
                    var a = e(this);
                    if (a.data("mCS")) {
                        var n = a.data("mCS")
                          , i = n.opt
                          , r = e("#mCSB_" + n.idx)
                          , l = e("#mCSB_" + n.idx + "_container")
                          , s = e(".mCSB_" + n.idx + "_scrollbar");
                        i.live && m(i.liveSelector || e(t).selector),
                        X.call(this, "remove"),
                        B.call(this),
                        b.call(this),
                        a.removeData("mCS"),
                        K(this, "mcs"),
                        s.remove(),
                        l.find("img." + c[2]).removeClass(c[2]),
                        r.replaceWith(l.contents()),
                        a.removeClass(o + " _mCS_" + n.idx + " " + c[6] + " " + c[7] + " " + c[5] + " " + c[3]).addClass(c[4])
                    }
                })
            }
        }, u = function() {
            return "object" != typeof e(this) || e(this).length < 1 ? a : this
        }, f = function(t) {
            t.autoDraggerLength = !(e.inArray(t.theme, ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"]) > -1) && t.autoDraggerLength,
            t.autoExpandScrollbar = !(e.inArray(t.theme, ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"]) > -1) && t.autoExpandScrollbar,
            t.scrollButtons.enable = !(e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1) && t.scrollButtons.enable,
            t.autoHideScrollbar = e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1 || t.autoHideScrollbar,
            t.scrollbarPosition = e.inArray(t.theme, ["minimal", "minimal-dark"]) > -1 ? "outside" : t.scrollbarPosition
        }, m = function(e) {
            r[e] && (clearTimeout(r[e]),
            K(r, e))
        }, h = function(e) {
            return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
        }, $ = function(e) {
            return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
        }, p = function() {
            var t = e(this)
              , a = t.data("mCS")
              , n = a.opt
              , i = n.autoExpandScrollbar ? " " + c[1] + "_expand" : ""
              , r = ["<div id='mCSB_" + a.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + a.idx + "_scrollbar mCS-" + n.theme + " mCSB_scrollTools_vertical" + i + "'><div class='" + c[12] + "'><div id='mCSB_" + a.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar'></div></div><div class='mCSB_draggerRail'></div></div></div>", "<div id='mCSB_" + a.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + a.idx + "_scrollbar mCS-" + n.theme + " mCSB_scrollTools_horizontal" + i + "'><div class='" + c[12] + "'><div id='mCSB_" + a.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar'></div></div><div class='mCSB_draggerRail'></div></div></div>"]
              , l = "yx" === n.axis ? "mCSB_vertical_horizontal" : "x" === n.axis ? "mCSB_horizontal" : "mCSB_vertical"
              , s = "yx" === n.axis ? r[0] + r[1] : "x" === n.axis ? r[1] : r[0]
              , d = "yx" === n.axis ? "<div id='mCSB_" + a.idx + "_container_wrapper' class='mCSB_container_wrapper'></div>" : ""
              , u = n.autoHideScrollbar ? " " + c[6] : ""
              , f = "x" !== n.axis && "rtl" === a.langDir ? " " + c[7] : "";
            n.setWidth && t.css("width", n.setWidth),
            n.setHeight && t.css("height", n.setHeight),
            n.setLeft = "y" !== n.axis && "rtl" === a.langDir ? "989999px" : n.setLeft,
            t.addClass(o + " _mCS_" + a.idx + u + f).wrapInner("<div id='mCSB_" + a.idx + "' class='mCustomScrollBox mCS-" + n.theme + " " + l + "'><div id='mCSB_" + a.idx + "_container' class='mCSB_container' style='position:relative; top:" + n.setTop + "; left:" + n.setLeft + ";' dir='" + a.langDir + "'></div></div>");
            var m = e("#mCSB_" + a.idx)
              , h = e("#mCSB_" + a.idx + "_container");
            "y" === n.axis || n.advanced.autoExpandHorizontalScroll || h.css("width", g(h)),
            "outside" === n.scrollbarPosition ? ("static" === t.css("position") && t.css("position", "relative"),
            t.css("overflow", "visible"),
            m.addClass("mCSB_outside").after(s)) : (m.addClass("mCSB_inside").append(s),
            h.wrap(d)),
            _.call(this);
            var $ = [e("#mCSB_" + a.idx + "_dragger_vertical"), e("#mCSB_" + a.idx + "_dragger_horizontal")];
            $[0].css("min-height", $[0].height()),
            $[1].css("min-width", $[1].width())
        }, g = function(t) {
            var o = [t[0].scrollWidth, Math.max.apply(Math, t.children().map(function() {
                return e(this).outerWidth(!0)
            }).get())]
              , a = t.parent().width();
            return o[0] > a ? o[0] : o[1] > a ? o[1] : "100%"
        }, v = function() {
            var t = e(this).data("mCS")
              , o = t.opt
              , a = e("#mCSB_" + t.idx + "_container");
            if (o.advanced.autoExpandHorizontalScroll && "y" !== o.axis) {
                a.css({
                    width: "auto",
                    "min-width": 0,
                    "overflow-x": "scroll"
                });
                var n = Math.ceil(a[0].scrollWidth);
                3 === o.advanced.autoExpandHorizontalScroll || 2 !== o.advanced.autoExpandHorizontalScroll && n > a.parent().width() ? a.css({
                    width: n,
                    "min-width": "100%",
                    "overflow-x": "inherit"
                }) : a.css({
                    "overflow-x": "inherit",
                    position: "absolute"
                }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;'></div>").css({
                    width: Math.ceil(a[0].getBoundingClientRect().right + .4) - Math.floor(a[0].getBoundingClientRect().left),
                    "min-width": "100%",
                    position: "relative"
                }).unwrap()
            }
        }, _ = function() {
            var t = e(this).data("mCS")
              , o = t.opt
              , a = e(".mCSB_" + t.idx + "_scrollbar:first")
              , n = ee(o.scrollButtons.tabindex) ? "tabindex='" + o.scrollButtons.tabindex + "'" : ""
              , i = ["<a href='#' class='" + c[13] + "' " + n + "></a>", "<a href='#' class='" + c[14] + "' " + n + "></a>", "<a href='#' class='" + c[15] + "' " + n + "></a>", "<a href='#' class='" + c[16] + "' " + n + "></a>"]
              , r = ["x" === o.axis ? i[2] : i[0], "x" === o.axis ? i[3] : i[1], i[2], i[3]];
            o.scrollButtons.enable && a.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])
        }, x = function() {
            var t = e(this).data("mCS")
              , o = e("#mCSB_" + t.idx)
              , a = e("#mCSB_" + t.idx + "_container")
              , n = [e("#mCSB_" + t.idx + "_dragger_vertical"), e("#mCSB_" + t.idx + "_dragger_horizontal")]
              , i = [o.height() / a.outerHeight(!1), o.width() / a.outerWidth(!1)]
              , r = [parseInt(n[0].css("min-height")), Math.round(i[0] * n[0].parent().height()), parseInt(n[1].css("min-width")), Math.round(i[1] * n[1].parent().width())]
              , s = l && r[1] < r[0] ? r[0] : r[1]
              , c = l && r[3] < r[2] ? r[2] : r[3];
            n[0].css({
                height: s,
                "max-height": n[0].parent().height() - 10
            }).find(".mCSB_dragger_bar").css({
                "line-height": r[0] + "px"
            }),
            n[1].css({
                width: c,
                "max-width": n[1].parent().width() - 10
            })
        }, S = function() {
            var t = e(this).data("mCS")
              , o = e("#mCSB_" + t.idx)
              , a = e("#mCSB_" + t.idx + "_container")
              , n = [e("#mCSB_" + t.idx + "_dragger_vertical"), e("#mCSB_" + t.idx + "_dragger_horizontal")]
              , i = [a.outerHeight(!1) - o.height(), a.outerWidth(!1) - o.width()]
              , r = [i[0] / (n[0].parent().height() - n[0].height()), i[1] / (n[1].parent().width() - n[1].width())];
            t.scrollRatio = {
                y: r[0],
                x: r[1]
            }
        }, C = function(e, t, o) {
            var a = o ? c[0] + "_expanded" : ""
              , n = e.closest(".mCSB_scrollTools");
            "active" === t ? (e.toggleClass(c[0] + " " + a),
            n.toggleClass(c[1]),
            e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(c[0]),
            n.removeClass(c[1])) : (e.addClass(c[0]),
            n.addClass(c[1])))
        }, w = function() {
            var t = e(this).data("mCS")
              , o = e("#mCSB_" + t.idx)
              , a = e("#mCSB_" + t.idx + "_container")
              , n = null == t.overflowed ? a.height() : a.outerHeight(!1)
              , i = null == t.overflowed ? a.width() : a.outerWidth(!1)
              , r = a[0].scrollHeight
              , l = a[0].scrollWidth;
            return r > n && (n = r),
            l > i && (i = l),
            [n > o.height(), i > o.width()]
        }, b = function() {
            var t = e(this)
              , o = t.data("mCS")
              , a = o.opt
              , n = e("#mCSB_" + o.idx)
              , i = e("#mCSB_" + o.idx + "_container")
              , r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")];
            if (j(t),
            ("x" !== a.axis && !o.overflowed[0] || "y" === a.axis && o.overflowed[0]) && (r[0].add(i).css("top", 0),
            N(t, "_resetY")),
            "y" !== a.axis && !o.overflowed[1] || "x" === a.axis && o.overflowed[1]) {
                var l = dx = 0;
                "rtl" === o.langDir && (dx = Math.abs((l = n.width() - i.outerWidth(!1)) / o.scrollRatio.x)),
                i.css("left", l),
                r[1].css("left", dx),
                N(t, "_resetX")
            }
        }, y = function() {
            var t, o = e(this), a = o.data("mCS"), n = a.opt;
            a.bindEvents || (O.call(this),
            n.contentTouchScroll && D.call(this),
            W.call(this),
            n.mouseWheel.enable && function a() {
                t = setTimeout(function() {
                    e.event.special.mousewheel ? (clearTimeout(t),
                    E.call(o[0])) : a()
                }, 100)
            }(),
            z.call(this),
            H.call(this),
            n.advanced.autoScrollOnFocus && P.call(this),
            n.scrollButtons.enable && M.call(this),
            n.keyboard.enable && U.call(this),
            a.bindEvents = !0)
        }, B = function() {
            var t = e(this)
              , o = t.data("mCS")
              , a = o.opt
              , n = "mCS_" + o.idx
              , i = ".mCSB_" + o.idx + "_scrollbar"
              , r = e("#mCSB_" + o.idx + ",#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper," + i + " ." + c[12] + ",#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal," + i + ">a")
              , l = e("#mCSB_" + o.idx + "_container");
            a.advanced.releaseDraggableSelectors && r.add(e(a.advanced.releaseDraggableSelectors)),
            a.advanced.extraDraggableSelectors && r.add(e(a.advanced.extraDraggableSelectors)),
            o.bindEvents && (e(document).add(e(!R() || top.document)).unbind("." + n),
            r.each(function() {
                e(this).unbind("." + n)
            }),
            clearTimeout(t[0]._focusTimeout),
            K(t[0], "_focusTimeout"),
            clearTimeout(o.sequential.step),
            K(o.sequential, "step"),
            clearTimeout(l[0].onCompleteTimeout),
            K(l[0], "onCompleteTimeout"),
            o.bindEvents = !1)
        }, T = function(t) {
            var o = e(this)
              , a = o.data("mCS")
              , n = a.opt
              , i = e("#mCSB_" + a.idx + "_container_wrapper")
              , r = i.length ? i : e("#mCSB_" + a.idx + "_container")
              , l = [e("#mCSB_" + a.idx + "_scrollbar_vertical"), e("#mCSB_" + a.idx + "_scrollbar_horizontal")]
              , s = [l[0].find(".mCSB_dragger"), l[1].find(".mCSB_dragger")];
            "x" !== n.axis && (a.overflowed[0] && !t ? (l[0].add(s[0]).add(l[0].children("a")).css("display", "block"),
            r.removeClass(c[8] + " " + c[10])) : (n.alwaysShowScrollbar ? (2 !== n.alwaysShowScrollbar && s[0].css("display", "none"),
            r.removeClass(c[10])) : (l[0].css("display", "none"),
            r.addClass(c[10])),
            r.addClass(c[8]))),
            "y" !== n.axis && (a.overflowed[1] && !t ? (l[1].add(s[1]).add(l[1].children("a")).css("display", "block"),
            r.removeClass(c[9] + " " + c[11])) : (n.alwaysShowScrollbar ? (2 !== n.alwaysShowScrollbar && s[1].css("display", "none"),
            r.removeClass(c[11])) : (l[1].css("display", "none"),
            r.addClass(c[11])),
            r.addClass(c[9]))),
            a.overflowed[0] || a.overflowed[1] ? o.removeClass(c[5]) : o.addClass(c[5])
        }, k = function(t) {
            var o = t.type
              , a = t.target.ownerDocument !== document && null !== frameElement ? [e(frameElement).offset().top, e(frameElement).offset().left] : null
              , n = R() && t.target.ownerDocument !== top.document && null !== frameElement ? [e(t.view.frameElement).offset().top, e(t.view.frameElement).offset().left] : [0, 0];
            switch (o) {
            case "pointerdown":
            case "MSPointerDown":
            case "pointermove":
            case "MSPointerMove":
            case "pointerup":
            case "MSPointerUp":
                return a ? [t.originalEvent.pageY - a[0] + n[0], t.originalEvent.pageX - a[1] + n[1], !1] : [t.originalEvent.pageY, t.originalEvent.pageX, !1];
            case "touchstart":
            case "touchmove":
            case "touchend":
                var i = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0]
                  , r = t.originalEvent.touches.length || t.originalEvent.changedTouches.length;
                return t.target.ownerDocument !== document ? [i.screenY, i.screenX, r > 1] : [i.pageY, i.pageX, r > 1];
            default:
                return a ? [t.pageY - a[0] + n[0], t.pageX - a[1] + n[1], !1] : [t.pageY, t.pageX, !1]
            }
        }, O = function() {
            var t, o, a, n = e(this), i = n.data("mCS"), r = i.opt, c = "mCS_" + i.idx, d = ["mCSB_" + i.idx + "_dragger_vertical", "mCSB_" + i.idx + "_dragger_horizontal"], u = e("#mCSB_" + i.idx + "_container"), f = e("#" + d[0] + ",#" + d[1]), m = r.advanced.releaseDraggableSelectors ? f.add(e(r.advanced.releaseDraggableSelectors)) : f, h = r.advanced.extraDraggableSelectors ? e(!R() || top.document).add(e(r.advanced.extraDraggableSelectors)) : e(!R() || top.document);
            function $(e, o, a, l) {
                if (u[0].idleTimer = r.scrollInertia < 233 ? 250 : 0,
                t.attr("id") === d[1])
                    var s = "x"
                      , c = (t[0].offsetLeft - o + l) * i.scrollRatio.x;
                else
                    var s = "y"
                      , c = (t[0].offsetTop - e + a) * i.scrollRatio.y;
                N(n, c.toString(), {
                    dir: s,
                    drag: !0
                })
            }
            f.bind("contextmenu." + c, function(e) {
                e.preventDefault()
            }).bind("mousedown." + c + " touchstart." + c + " pointerdown." + c + " MSPointerDown." + c, function(i) {
                if (i.stopImmediatePropagation(),
                i.preventDefault(),
                Q(i)) {
                    s = !0,
                    l && (document.onselectstart = function() {
                        return !1
                    }
                    ),
                    L.call(u, !1),
                    j(n);
                    var c = (t = e(this)).offset()
                      , d = k(i)[0] - c.top
                      , f = k(i)[1] - c.left
                      , m = t.height() + c.top
                      , h = t.width() + c.left;
                    d < m && d > 0 && f < h && f > 0 && (o = d,
                    a = f),
                    C(t, "active", r.autoExpandScrollbar)
                }
            }).bind("touchmove." + c, function(e) {
                e.stopImmediatePropagation(),
                e.preventDefault();
                var n = t.offset()
                  , i = k(e)[0] - n.top
                  , r = k(e)[1] - n.left;
                $(o, a, i, r)
            }),
            e(document).add(h).bind("mousemove." + c + " pointermove." + c + " MSPointerMove." + c, function(e) {
                if (t) {
                    var n = t.offset()
                      , i = k(e)[0] - n.top
                      , r = k(e)[1] - n.left;
                    (o !== i || a !== r) && $(o, a, i, r)
                }
            }).add(m).bind("mouseup." + c + " touchend." + c + " pointerup." + c + " MSPointerUp." + c, function(e) {
                t && (C(t, "active", r.autoExpandScrollbar),
                t = null),
                s = !1,
                l && (document.onselectstart = null),
                L.call(u, !0)
            })
        }, D = function() {
            var o, a, n, i, r, l, c, d, u, f, m, h, $, p, g = e(this), v = g.data("mCS"), _ = v.opt, x = "mCS_" + v.idx, S = e("#mCSB_" + v.idx), C = e("#mCSB_" + v.idx + "_container"), w = [e("#mCSB_" + v.idx + "_dragger_vertical"), e("#mCSB_" + v.idx + "_dragger_horizontal")], b = [], y = [], B = "yx" === _.axis ? "none" : "all", T = [], O = C.find("iframe"), D = ["touchstart." + x + " pointerdown." + x + " MSPointerDown." + x, "touchmove." + x + " pointermove." + x + " MSPointerMove." + x, "touchend." + x + " pointerup." + x + " MSPointerUp." + x], W = void 0 !== document.body.style.touchAction && "" !== document.body.style.touchAction;
            function E(e) {
                if (!Z(e) || s || k(e)[2]) {
                    t = 0;
                    return
                }
                t = 1,
                $ = 0,
                p = 0,
                o = 1,
                g.removeClass("mCS_touch_action");
                var i = C.offset();
                a = k(e)[0] - i.top,
                n = k(e)[1] - i.left,
                T = [k(e)[0], k(e)[1]]
            }
            function I(e) {
                if (Z(e) && !s && !k(e)[2]) {
                    if (_.documentTouchScroll || e.preventDefault(),
                    e.stopImmediatePropagation(),
                    (!p || $) && o) {
                        c = G();
                        var t = S.offset()
                          , i = k(e)[0] - t.top
                          , r = k(e)[1] - t.left
                          , l = "mcsLinearOut";
                        if (b.push(i),
                        y.push(r),
                        T[2] = Math.abs(k(e)[0] - T[0]),
                        T[3] = Math.abs(k(e)[1] - T[1]),
                        v.overflowed[0])
                            var d = w[0].parent().height() - w[0].height()
                              , u = a - i > 0 && i - a > -(d * v.scrollRatio.y) && (2 * T[3] < T[2] || "yx" === _.axis);
                        if (v.overflowed[1])
                            var f = w[1].parent().width() - w[1].width()
                              , h = n - r > 0 && r - n > -(f * v.scrollRatio.x) && (2 * T[2] < T[3] || "yx" === _.axis);
                        u || h ? (W || e.preventDefault(),
                        $ = 1) : (p = 1,
                        g.addClass("mCS_touch_action")),
                        W && e.preventDefault(),
                        m = "yx" === _.axis ? [a - i, n - r] : "x" === _.axis ? [null, n - r] : [a - i, null],
                        C[0].idleTimer = 250,
                        v.overflowed[0] && P(m[0], 0, l, "y", "all", !0),
                        v.overflowed[1] && P(m[1], 0, l, "x", B, !0)
                    }
                }
            }
            function L(e) {
                if (!Z(e) || s || k(e)[2]) {
                    t = 0;
                    return
                }
                t = 1,
                e.stopImmediatePropagation(),
                j(g),
                l = G();
                var o = S.offset();
                i = k(e)[0] - o.top,
                r = k(e)[1] - o.left,
                b = [],
                y = []
            }
            function A(e) {
                if (Z(e) && !s && !k(e)[2]) {
                    o = 0,
                    e.stopImmediatePropagation(),
                    $ = 0,
                    p = 0,
                    d = G();
                    var t = S.offset()
                      , a = k(e)[0] - t.top
                      , n = k(e)[1] - t.left;
                    if (!(d - c > 30)) {
                        var g = "mcsEaseOut"
                          , x = (f = 1e3 / (d - l)) < 2.5
                          , w = x ? [b[b.length - 2], y[y.length - 2]] : [0, 0]
                          , T = [Math.abs((u = x ? [a - w[0], n - w[1]] : [a - i, n - r])[0]), Math.abs(u[1])];
                        f = x ? [Math.abs(u[0] / 4), Math.abs(u[1] / 4)] : [f, f];
                        var O = [Math.abs(C[0].offsetTop) - u[0] * z(T[0] / f[0], f[0]), Math.abs(C[0].offsetLeft) - u[1] * z(T[1] / f[1], f[1])];
                        m = "yx" === _.axis ? [O[0], O[1]] : "x" === _.axis ? [null, O[1]] : [O[0], null],
                        h = [4 * T[0] + _.scrollInertia, 4 * T[1] + _.scrollInertia];
                        var D = parseInt(_.contentTouchScroll) || 0;
                        m[0] = T[0] > D ? m[0] : 0,
                        m[1] = T[1] > D ? m[1] : 0,
                        v.overflowed[0] && P(m[0], h[0], g, "y", B, !1),
                        v.overflowed[1] && P(m[1], h[1], g, "x", B, !1)
                    }
                }
            }
            function z(e, t) {
                var o = [1.5 * t, 2 * t, t / 1.5, t / 2];
                return e > 90 ? t > 4 ? o[0] : o[3] : e > 60 ? t > 3 ? o[3] : o[2] : e > 30 ? t > 8 ? o[1] : t > 6 ? o[0] : t > 4 ? t : o[2] : t > 8 ? t : o[3]
            }
            function P(e, t, o, a, n, i) {
                e && N(g, e.toString(), {
                    dur: t,
                    scrollEasing: o,
                    dir: a,
                    overwrite: n,
                    drag: i
                })
            }
            C.bind(D[0], function(e) {
                E(e)
            }).bind(D[1], function(e) {
                I(e)
            }),
            S.bind(D[0], function(e) {
                L(e)
            }).bind(D[2], function(e) {
                A(e)
            }),
            O.length && O.each(function() {
                e(this).bind("load", function() {
                    R(this) && e(this.contentDocument || this.contentWindow.document).bind(D[0], function(e) {
                        E(e),
                        L(e)
                    }).bind(D[1], function(e) {
                        I(e)
                    }).bind(D[2], function(e) {
                        A(e)
                    })
                })
            })
        }, W = function() {
            var o, a = e(this), n = a.data("mCS"), i = n.opt, r = n.sequential, l = "mCS_" + n.idx, c = e("#mCSB_" + n.idx + "_container"), d = c.parent();
            function u(e, t, n) {
                r.type = n && o ? "stepped" : "stepless",
                r.scrollAmount = 10,
                F(a, e, t, "mcsLinearOut", n ? 60 : null)
            }
            c.bind("mousedown." + l, function(e) {
                !t && (o || (o = 1,
                s = !0))
            }).add(document).bind("mousemove." + l, function(e) {
                if (!t && o && (window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0)) {
                    var a = c.offset()
                      , l = k(e)[0] - a.top + c[0].offsetTop
                      , s = k(e)[1] - a.left + c[0].offsetLeft;
                    l > 0 && l < d.height() && s > 0 && s < d.width() ? r.step && u("off", null, "stepped") : ("x" !== i.axis && n.overflowed[0] && (l < 0 ? u("on", 38) : l > d.height() && u("on", 40)),
                    "y" !== i.axis && n.overflowed[1] && (s < 0 ? u("on", 37) : s > d.width() && u("on", 39)))
                }
            }).bind("mouseup." + l + " dragend." + l, function(e) {
                !t && (o && (o = 0,
                u("off", null)),
                s = !1)
            })
        }, E = function() {
            if (e(this).data("mCS")) {
                var t = e(this)
                  , o = t.data("mCS")
                  , a = o.opt
                  , n = "mCS_" + o.idx
                  , i = e("#mCSB_" + o.idx)
                  , r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")]
                  , s = e("#mCSB_" + o.idx + "_container").find("iframe");
                s.length && s.each(function() {
                    e(this).bind("load", function() {
                        R(this) && e(this.contentDocument || this.contentWindow.document).bind("mousewheel." + n, function(e, t) {
                            c(e, t)
                        })
                    })
                }),
                i.bind("mousewheel." + n, function(e, t) {
                    c(e, t)
                })
            }
            function c(n, s) {
                if (j(t),
                !A(t, n.target)) {
                    var c = "auto" !== a.mouseWheel.deltaFactor ? parseInt(a.mouseWheel.deltaFactor) : l && n.deltaFactor < 100 ? 100 : n.deltaFactor || 100
                      , d = a.scrollInertia;
                    if ("x" === a.axis || "x" === a.mouseWheel.axis)
                        var u = "x"
                          , f = [Math.round(c * o.scrollRatio.x), parseInt(a.mouseWheel.scrollAmount)]
                          , m = "auto" !== a.mouseWheel.scrollAmount ? f[1] : f[0] >= i.width() ? .9 * i.width() : f[0]
                          , h = Math.abs(e("#mCSB_" + o.idx + "_container")[0].offsetLeft)
                          , $ = r[1][0].offsetLeft
                          , p = r[1].parent().width() - r[1].width()
                          , g = "y" === a.mouseWheel.axis ? n.deltaY || s : n.deltaX;
                    else
                        var u = "y"
                          , f = [Math.round(c * o.scrollRatio.y), parseInt(a.mouseWheel.scrollAmount)]
                          , m = "auto" !== a.mouseWheel.scrollAmount ? f[1] : f[0] >= i.height() ? .9 * i.height() : f[0]
                          , h = Math.abs(e("#mCSB_" + o.idx + "_container")[0].offsetTop)
                          , $ = r[0][0].offsetTop
                          , p = r[0].parent().height() - r[0].height()
                          , g = n.deltaY || s;
                    ("y" !== u || o.overflowed[0]) && ("x" !== u || o.overflowed[1]) && ((a.mouseWheel.invert || n.webkitDirectionInvertedFromDevice) && (g = -g),
                    a.mouseWheel.normalizeDelta && (g = g < 0 ? -1 : 1),
                    (g > 0 && 0 !== $ || g < 0 && $ !== p || a.mouseWheel.preventDefault) && (n.stopImmediatePropagation(),
                    n.preventDefault()),
                    n.deltaFactor < 5 && !a.mouseWheel.normalizeDelta && (m = n.deltaFactor,
                    d = 17),
                    N(t, (h - g * m).toString(), {
                        dir: u,
                        dur: d
                    }))
                }
            }
        }, I = {}, R = function(t) {
            var o = !1
              , a = !1
              , n = null;
            if (void 0 === t ? a = "#empty" : void 0 !== e(t).attr("id") && (a = e(t).attr("id")),
            !1 !== a && void 0 !== I[a])
                return I[a];
            if (t) {
                try {
                    var i = t.contentDocument || t.contentWindow.document;
                    n = i.body.innerHTML
                } catch (r) {}
                o = null !== n
            } else {
                try {
                    var i = top.document;
                    n = i.body.innerHTML
                } catch (l) {}
                o = null !== n
            }
            return !1 !== a && (I[a] = o),
            o
        }, L = function(e) {
            var t = this.find("iframe");
            t.length && t.css("pointer-events", e ? "auto" : "none")
        }, A = function(t, o) {
            var a = o.nodeName.toLowerCase()
              , n = t.data("mCS").opt.mouseWheel.disableOver;
            return e.inArray(a, n) > -1 && !(e.inArray(a, ["select", "textarea"]) > -1 && !e(o).is(":focus"))
        }, z = function() {
            var t, o = e(this), a = o.data("mCS"), n = "mCS_" + a.idx, i = e("#mCSB_" + a.idx + "_container"), r = i.parent();
            e(".mCSB_" + a.idx + "_scrollbar ." + c[12]).bind("mousedown." + n + " touchstart." + n + " pointerdown." + n + " MSPointerDown." + n, function(o) {
                s = !0,
                e(o.target).hasClass("mCSB_dragger") || (t = 1)
            }).bind("touchend." + n + " pointerup." + n + " MSPointerUp." + n, function(e) {
                s = !1
            }).bind("click." + n, function(n) {
                if (t && (t = 0,
                e(n.target).hasClass(c[12]) || e(n.target).hasClass("mCSB_draggerRail"))) {
                    j(o);
                    var l = e(this)
                      , s = l.find(".mCSB_dragger");
                    if (l.parent(".mCSB_scrollTools_horizontal").length > 0) {
                        if (!a.overflowed[1])
                            return;
                        var d = "x"
                          , u = n.pageX > s.offset().left ? -1 : 1
                          , f = Math.abs(i[0].offsetLeft) - u * (.9 * r.width())
                    } else {
                        if (!a.overflowed[0])
                            return;
                        var d = "y"
                          , u = n.pageY > s.offset().top ? -1 : 1
                          , f = Math.abs(i[0].offsetTop) - u * (.9 * r.height())
                    }
                    N(o, f.toString(), {
                        dir: d,
                        scrollEasing: "mcsEaseInOut"
                    })
                }
            })
        }, P = function() {
            var t = e(this)
              , o = t.data("mCS")
              , a = o.opt
              , n = "mCS_" + o.idx
              , i = e("#mCSB_" + o.idx + "_container")
              , r = i.parent();
            i.bind("focusin." + n, function(o) {
                var n = e(document.activeElement)
                  , l = i.find(".mCustomScrollBox").length;
                n.is(a.advanced.autoScrollOnFocus) && (j(t),
                clearTimeout(t[0]._focusTimeout),
                t[0]._focusTimer = l ? 17 * l : 0,
                t[0]._focusTimeout = setTimeout(function() {
                    var e = [et(n)[0], et(n)[1]]
                      , o = [i[0].offsetTop, i[0].offsetLeft]
                      , l = [o[0] + e[0] >= 0 && o[0] + e[0] < r.height() - n.outerHeight(!1), o[1] + e[1] >= 0 && o[0] + e[1] < r.width() - n.outerWidth(!1)]
                      , s = "yx" !== a.axis || l[0] || l[1] ? "all" : "none";
                    "x" === a.axis || l[0] || N(t, e[0].toString(), {
                        dir: "y",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: s,
                        dur: 0
                    }),
                    "y" === a.axis || l[1] || N(t, e[1].toString(), {
                        dir: "x",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: s,
                        dur: 0
                    })
                }, t[0]._focusTimer))
            })
        }, H = function() {
            var t = e(this).data("mCS")
              , o = "mCS_" + t.idx
              , a = e("#mCSB_" + t.idx + "_container").parent();
            a.bind("scroll." + o, function(o) {
                (0 !== a.scrollTop() || 0 !== a.scrollLeft()) && e(".mCSB_" + t.idx + "_scrollbar").css("visibility", "hidden")
            })
        }, M = function() {
            var t = e(this)
              , o = t.data("mCS")
              , a = o.opt
              , n = o.sequential
              , i = "mCS_" + o.idx;
            e(".mCSB_" + o.idx + "_scrollbar>a").bind("contextmenu." + i, function(e) {
                e.preventDefault()
            }).bind("mousedown." + i + " touchstart." + i + " pointerdown." + i + " MSPointerDown." + i + " mouseup." + i + " touchend." + i + " pointerup." + i + " MSPointerUp." + i + " mouseout." + i + " pointerout." + i + " MSPointerOut." + i + " click." + i, function(i) {
                if (i.preventDefault(),
                Q(i)) {
                    var r = e(this).attr("class");
                    switch (n.type = a.scrollButtons.scrollType,
                    i.type) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                        if ("stepped" === n.type)
                            return;
                        s = !0,
                        o.tweenRunning = !1,
                        l("on", r);
                        break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                        if ("stepped" === n.type)
                            return;
                        s = !1,
                        n.dir && l("off", r);
                        break;
                    case "click":
                        if ("stepped" !== n.type || o.tweenRunning)
                            return;
                        l("on", r)
                    }
                }
                function l(e, o) {
                    n.scrollAmount = a.scrollButtons.scrollAmount,
                    F(t, e, o)
                }
            })
        }, U = function() {
            var t = e(this)
              , o = t.data("mCS")
              , a = o.opt
              , n = o.sequential
              , i = "mCS_" + o.idx
              , r = e("#mCSB_" + o.idx)
              , l = e("#mCSB_" + o.idx + "_container")
              , s = l.parent()
              , c = "input,textarea,select,datalist,keygen,[contenteditable='true']"
              , d = l.find("iframe")
              , u = ["blur." + i + " keydown." + i + " keyup." + i];
            function f(i) {
                switch (i.type) {
                case "blur":
                    o.tweenRunning && n.dir && h("off", null);
                    break;
                case "keydown":
                case "keyup":
                    var r = i.keyCode ? i.keyCode : i.which
                      , d = "on";
                    if ("x" !== a.axis && (38 === r || 40 === r) || "y" !== a.axis && (37 === r || 39 === r)) {
                        if ((38 === r || 40 === r) && !o.overflowed[0] || (37 === r || 39 === r) && !o.overflowed[1])
                            return;
                        "keyup" === i.type && (d = "off"),
                        e(document.activeElement).is(c) || (i.preventDefault(),
                        i.stopImmediatePropagation(),
                        h(d, r))
                    } else if (33 === r || 34 === r) {
                        if ((o.overflowed[0] || o.overflowed[1]) && (i.preventDefault(),
                        i.stopImmediatePropagation()),
                        "keyup" === i.type) {
                            j(t);
                            var u = 34 === r ? -1 : 1;
                            if ("x" === a.axis || "yx" === a.axis && o.overflowed[1] && !o.overflowed[0])
                                var f = "x"
                                  , m = Math.abs(l[0].offsetLeft) - u * (.9 * s.width());
                            else
                                var f = "y"
                                  , m = Math.abs(l[0].offsetTop) - u * (.9 * s.height());
                            N(t, m.toString(), {
                                dir: f,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    } else if ((35 === r || 36 === r) && !e(document.activeElement).is(c) && ((o.overflowed[0] || o.overflowed[1]) && (i.preventDefault(),
                    i.stopImmediatePropagation()),
                    "keyup" === i.type)) {
                        if ("x" === a.axis || "yx" === a.axis && o.overflowed[1] && !o.overflowed[0])
                            var f = "x"
                              , m = 35 === r ? Math.abs(s.width() - l.outerWidth(!1)) : 0;
                        else
                            var f = "y"
                              , m = 35 === r ? Math.abs(s.height() - l.outerHeight(!1)) : 0;
                        N(t, m.toString(), {
                            dir: f,
                            scrollEasing: "mcsEaseInOut"
                        })
                    }
                }
                function h(e, i) {
                    n.type = a.keyboard.scrollType,
                    n.scrollAmount = a.keyboard.scrollAmount,
                    ("stepped" !== n.type || !o.tweenRunning) && F(t, e, i)
                }
            }
            d.length && d.each(function() {
                e(this).bind("load", function() {
                    R(this) && e(this.contentDocument || this.contentWindow.document).bind(u[0], function(e) {
                        f(e)
                    })
                })
            }),
            r.attr("tabindex", "0").bind(u[0], function(e) {
                f(e)
            })
        }, F = function(t, o, a, n, i) {
            var r = t.data("mCS")
              , l = r.opt
              , s = r.sequential
              , d = e("#mCSB_" + r.idx + "_container")
              , u = "stepped" === s.type
              , f = l.scrollInertia < 26 ? 26 : l.scrollInertia
              , m = l.scrollInertia < 1 ? 17 : l.scrollInertia;
            switch (o) {
            case "on":
                if (s.dir = [a === c[16] || a === c[15] || 39 === a || 37 === a ? "x" : "y", a === c[13] || a === c[15] || 38 === a || 37 === a ? -1 : 1],
                j(t),
                ee(a) && "stepped" === s.type)
                    return;
                h(u);
                break;
            case "off":
                clearTimeout(s.step),
                K(s, "step"),
                j(t),
                (u || r.tweenRunning && s.dir) && h(!0)
            }
            function h(e) {
                l.snapAmount && (s.scrollAmount = l.snapAmount instanceof Array ? "x" === s.dir[0] ? l.snapAmount[1] : l.snapAmount[0] : l.snapAmount);
                var o = "stepped" !== s.type
                  , a = i || (e ? o ? f / 1.5 : m : 1e3 / 60)
                  , c = e ? o ? 7.5 : 40 : 2.5
                  , u = [Math.abs(d[0].offsetTop), Math.abs(d[0].offsetLeft)]
                  , $ = [r.scrollRatio.y > 10 ? 10 : r.scrollRatio.y, r.scrollRatio.x > 10 ? 10 : r.scrollRatio.x]
                  , p = "x" === s.dir[0] ? u[1] + s.dir[1] * ($[1] * c) : u[0] + s.dir[1] * ($[0] * c)
                  , g = "x" === s.dir[0] ? u[1] + s.dir[1] * parseInt(s.scrollAmount) : u[0] + s.dir[1] * parseInt(s.scrollAmount)
                  , v = "auto" !== s.scrollAmount ? g : p;
                if (e && a < 17 && (v = "x" === s.dir[0] ? u[1] : u[0]),
                N(t, v.toString(), {
                    dir: s.dir[0],
                    scrollEasing: n || (e ? o ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear"),
                    dur: a,
                    onComplete: !!e
                }),
                e) {
                    s.dir = !1;
                    return
                }
                clearTimeout(s.step),
                s.step = setTimeout(function() {
                    h()
                }, a)
            }
        }, q = function(t) {
            var o = e(this).data("mCS").opt
              , a = [];
            return "function" == typeof t && (t = t()),
            t instanceof Array ? a = t.length > 1 ? [t[0], t[1]] : "x" === o.axis ? [null, t[0]] : [t[0], null] : (a[0] = t.y ? t.y : t.x || "x" === o.axis ? null : t,
            a[1] = t.x ? t.x : t.y || "y" === o.axis ? null : t),
            "function" == typeof a[0] && (a[0] = a[0]()),
            "function" == typeof a[1] && (a[1] = a[1]()),
            a
        }, Y = function(t, o) {
            if (null != t && void 0 !== t) {
                var a = e(this)
                  , n = a.data("mCS")
                  , i = n.opt
                  , r = e("#mCSB_" + n.idx + "_container")
                  , l = r.parent();
                o || (o = "x" === i.axis ? "x" : "y");
                var s = "x" === o ? r.outerWidth(!1) - l.width() : r.outerHeight(!1) - l.height()
                  , c = "x" === o ? r[0].offsetLeft : r[0].offsetTop
                  , u = "x" === o ? "left" : "top";
                switch (typeof t) {
                case "function":
                    return t();
                case "object":
                    var f = t.jquery ? t : e(t);
                    if (!f.length)
                        return;
                    return "x" === o ? et(f)[1] : et(f)[0];
                case "string":
                case "number":
                    if (ee(t))
                        return Math.abs(t);
                    if (-1 !== t.indexOf("%"))
                        return Math.abs(s * parseInt(t) / 100);
                    if (-1 !== t.indexOf("-="))
                        return Math.abs(c - parseInt(t.split("-=")[1]));
                    else if (-1 !== t.indexOf("+=")) {
                        var m = c + parseInt(t.split("+=")[1]);
                        return m >= 0 ? 0 : Math.abs(m)
                    } else {
                        if (-1 !== t.indexOf("px") && ee(t.split("px")[0]))
                            return Math.abs(t.split("px")[0]);
                        if ("top" === t || "left" === t)
                            return 0;
                        if ("bottom" === t)
                            return Math.abs(l.height() - r.outerHeight(!1));
                        if ("right" === t)
                            return Math.abs(l.width() - r.outerWidth(!1));
                        else if ("first" === t || "last" === t) {
                            var f = r.find(":" + t);
                            return "x" === o ? et(f)[1] : et(f)[0]
                        } else {
                            if (e(t).length)
                                return "x" === o ? et(e(t))[1] : et(e(t))[0];
                            r.css(u, t),
                            d.update.call(null, a[0]);
                            return
                        }
                    }
                }
            }
        }, X = function(t) {
            var o = e(this)
              , a = o.data("mCS")
              , n = a.opt
              , i = e("#mCSB_" + a.idx + "_container");
            if (t) {
                clearTimeout(i[0].autoUpdate),
                K(i[0], "autoUpdate");
                return
            }
            function r(e) {
                clearTimeout(i[0].autoUpdate),
                d.update.call(null, o[0], e)
            }
            (function t() {
                if (clearTimeout(i[0].autoUpdate),
                0 === o.parents("html").length) {
                    o = null;
                    return
                }
                i[0].autoUpdate = setTimeout(function() {
                    var l, s;
                    if (n.advanced.updateOnSelectorChange && (a.poll.change.n = (!0 === n.advanced.updateOnSelectorChange && (n.advanced.updateOnSelectorChange = "*"),
                    l = 0,
                    s = i.find(n.advanced.updateOnSelectorChange),
                    n.advanced.updateOnSelectorChange && s.length > 0 && s.each(function() {
                        l += this.offsetHeight + this.offsetWidth
                    }),
                    l),
                    a.poll.change.n !== a.poll.change.o)) {
                        a.poll.change.o = a.poll.change.n,
                        r(3);
                        return
                    }
                    if (n.advanced.updateOnContentResize && (a.poll.size.n = o[0].scrollHeight + o[0].scrollWidth + i[0].offsetHeight + o[0].offsetHeight + o[0].offsetWidth,
                    a.poll.size.n !== a.poll.size.o)) {
                        a.poll.size.o = a.poll.size.n,
                        r(1);
                        return
                    }
                    if (n.advanced.updateOnImageLoad && !("auto" === n.advanced.updateOnImageLoad && "y" === n.axis) && (a.poll.img.n = i.find("img").length,
                    a.poll.img.n !== a.poll.img.o)) {
                        a.poll.img.o = a.poll.img.n,
                        i.find("img").each(function() {
                            (function t(o) {
                                if (e(o).hasClass(c[2])) {
                                    r();
                                    return
                                }
                                var a, n, i = new Image;
                                i.onload = (a = i,
                                n = function t() {
                                    this.onload = null,
                                    e(o).addClass(c[2]),
                                    r(2)
                                }
                                ,
                                function() {
                                    return n.apply(a, arguments)
                                }
                                ),
                                i.src = o.src
                            }
                            )(this)
                        });
                        return
                    }
                    (n.advanced.updateOnSelectorChange || n.advanced.updateOnContentResize || n.advanced.updateOnImageLoad) && t()
                }, n.advanced.autoUpdateTimeout)
            }
            )()
        }, j = function(t) {
            var o = t.data("mCS");
            e("#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper,#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal").each(function() {
                J.call(this)
            })
        }, N = function(t, o, a) {
            var n = t.data("mCS")
              , i = n.opt
              , r = {
                trigger: "internal",
                dir: "y",
                scrollEasing: "mcsEaseOut",
                drag: !1,
                dur: i.scrollInertia,
                overwrite: "all",
                callbacks: !0,
                onStart: !0,
                onUpdate: !0,
                onComplete: !0
            }
              , a = e.extend(r, a)
              , l = [a.dur, a.drag ? 0 : a.dur]
              , s = e("#mCSB_" + n.idx)
              , c = e("#mCSB_" + n.idx + "_container")
              , d = c.parent()
              , u = i.callbacks.onTotalScrollOffset ? q.call(t, i.callbacks.onTotalScrollOffset) : [0, 0]
              , f = i.callbacks.onTotalScrollBackOffset ? q.call(t, i.callbacks.onTotalScrollBackOffset) : [0, 0];
            if (n.trigger = a.trigger,
            (0 !== d.scrollTop() || 0 !== d.scrollLeft()) && (e(".mCSB_" + n.idx + "_scrollbar").css("visibility", "visible"),
            d.scrollTop(0).scrollLeft(0)),
            "_resetY" !== o || n.contentReset.y || (T("onOverflowYNone") && i.callbacks.onOverflowYNone.call(t[0]),
            n.contentReset.y = 1),
            "_resetX" !== o || n.contentReset.x || (T("onOverflowXNone") && i.callbacks.onOverflowXNone.call(t[0]),
            n.contentReset.x = 1),
            "_resetY" !== o && "_resetX" !== o) {
                if ((n.contentReset.y || !t[0].mcs) && n.overflowed[0] && (T("onOverflowY") && i.callbacks.onOverflowY.call(t[0]),
                n.contentReset.x = null),
                (n.contentReset.x || !t[0].mcs) && n.overflowed[1] && (T("onOverflowX") && i.callbacks.onOverflowX.call(t[0]),
                n.contentReset.x = null),
                i.snapAmount) {
                    var m, h, $, p = i.snapAmount instanceof Array ? "x" === a.dir ? i.snapAmount[1] : i.snapAmount[0] : i.snapAmount;
                    o = (m = o,
                    h = p,
                    Math.round(m / h) * h - ($ = i.snapOffset))
                }
                switch (a.dir) {
                case "x":
                    var g = e("#mCSB_" + n.idx + "_dragger_horizontal")
                      , v = "left"
                      , _ = c[0].offsetLeft
                      , x = [s.width() - c.outerWidth(!1), g.parent().width() - g.width()]
                      , S = [o, 0 === o ? 0 : o / n.scrollRatio.x]
                      , w = u[1]
                      , b = f[1]
                      , y = w > 0 ? w / n.scrollRatio.x : 0
                      , B = b > 0 ? b / n.scrollRatio.x : 0;
                    break;
                case "y":
                    var g = e("#mCSB_" + n.idx + "_dragger_vertical")
                      , v = "top"
                      , _ = c[0].offsetTop
                      , x = [s.height() - c.outerHeight(!1), g.parent().height() - g.height()]
                      , S = [o, 0 === o ? 0 : o / n.scrollRatio.y]
                      , w = u[0]
                      , b = f[0]
                      , y = w > 0 ? w / n.scrollRatio.y : 0
                      , B = b > 0 ? b / n.scrollRatio.y : 0
                }
                S[1] < 0 || 0 === S[0] && 0 === S[1] ? S = [0, 0] : S[1] >= x[1] ? S = [x[0], x[1]] : S[0] = -S[0],
                !t[0].mcs && (k(),
                T("onInit") && i.callbacks.onInit.call(t[0])),
                clearTimeout(c[0].onCompleteTimeout),
                V(g[0], v, Math.round(S[1]), l[1], a.scrollEasing),
                (n.tweenRunning || (0 !== _ || !(S[0] >= 0)) && (_ !== x[0] || !(S[0] <= x[0]))) && V(c[0], v, Math.round(S[0]), l[0], a.scrollEasing, a.overwrite, {
                    onStart: function() {
                        a.callbacks && a.onStart && !n.tweenRunning && (T("onScrollStart") && (k(),
                        i.callbacks.onScrollStart.call(t[0])),
                        n.tweenRunning = !0,
                        C(g),
                        n.cbOffsets = [i.callbacks.alwaysTriggerOffsets || _ >= x[0] + w, i.callbacks.alwaysTriggerOffsets || _ <= -b])
                    },
                    onUpdate: function() {
                        a.callbacks && a.onUpdate && T("whileScrolling") && (k(),
                        i.callbacks.whileScrolling.call(t[0]))
                    },
                    onComplete: function() {
                        if (a.callbacks && a.onComplete) {
                            "yx" === i.axis && clearTimeout(c[0].onCompleteTimeout);
                            var e = c[0].idleTimer || 0;
                            c[0].onCompleteTimeout = setTimeout(function() {
                                T("onScroll") && (k(),
                                i.callbacks.onScroll.call(t[0])),
                                T("onTotalScroll") && S[1] >= x[1] - y && n.cbOffsets[0] && (k(),
                                i.callbacks.onTotalScroll.call(t[0])),
                                T("onTotalScrollBack") && S[1] <= B && n.cbOffsets[1] && (k(),
                                i.callbacks.onTotalScrollBack.call(t[0])),
                                n.tweenRunning = !1,
                                c[0].idleTimer = 0,
                                C(g, "hide")
                            }, e)
                        }
                    }
                })
            }
            function T(e) {
                return n && i.callbacks[e] && "function" == typeof i.callbacks[e]
            }
            function k() {
                var e = [c[0].offsetTop, c[0].offsetLeft]
                  , o = [g[0].offsetTop, g[0].offsetLeft]
                  , n = [c.outerHeight(!1), c.outerWidth(!1)]
                  , i = [s.height(), s.width()];
                t[0].mcs = {
                    content: c,
                    top: e[0],
                    left: e[1],
                    draggerTop: o[0],
                    draggerLeft: o[1],
                    topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(n[0]) - i[0])),
                    leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(n[1]) - i[1])),
                    direction: a.dir
                }
            }
        }, V = function(e, t, o, a, n, i, r) {
            e._mTween || (e._mTween = {
                top: {},
                left: {}
            });
            var l, s, r = r || {}, c = r.onStart || function() {}
            , d = r.onUpdate || function() {}
            , u = r.onComplete || function() {}
            , f = G(), m = 0, h = e.offsetTop, $ = e.style, p = e._mTween[t];
            "left" === t && (h = e.offsetLeft);
            var g = o - h;
            function v() {
                !p.stop && (m || c.call(),
                m = G() - f,
                _(),
                m >= p.time && (p.time = m > p.time ? m + l - (m - p.time) : m + l - 1,
                p.time < m + 1 && (p.time = m + 1)),
                p.time < a ? p.id = s(v) : u.call())
            }
            function _() {
                a > 0 ? (p.currVal = function e(t, o, a, n, i) {
                    switch (i) {
                    case "linear":
                    case "mcsLinear":
                        return a * t / n + o;
                    case "mcsLinearOut":
                        return t /= n,
                        a * Math.sqrt(1 - --t * t) + o;
                    case "easeInOutSmooth":
                        if ((t /= n / 2) < 1)
                            return a / 2 * t * t + o;
                        return -a / 2 * (--t * (t - 2) - 1) + o;
                    case "easeInOutStrong":
                        if ((t /= n / 2) < 1)
                            return a / 2 * Math.pow(2, 10 * (t - 1)) + o;
                        return a / 2 * (-Math.pow(2, -10 * --t) + 2) + o;
                    case "easeInOut":
                    case "mcsEaseInOut":
                        if ((t /= n / 2) < 1)
                            return a / 2 * t * t * t + o;
                        return a / 2 * ((t -= 2) * t * t + 2) + o;
                    case "easeOutSmooth":
                        return t /= n,
                        -a * (--t * t * t * t - 1) + o;
                    case "easeOutStrong":
                        return a * (-Math.pow(2, -10 * t / n) + 1) + o;
                    default:
                        var r = (t /= n) * t
                          , l = r * t;
                        return o + a * (.499999999999997 * l * r + -2.5 * r * r + 5.5 * l + -6.5 * r + 4 * t)
                    }
                }(p.time, h, g, a, n),
                $[t] = Math.round(p.currVal) + "px") : $[t] = o + "px",
                d.call()
            }
            p.stop = 0,
            "none" !== i && null != p.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(p.id) : clearTimeout(p.id),
            p.id = null),
            l = 1e3 / 60,
            p.time = m + l,
            s = window.requestAnimationFrame ? window.requestAnimationFrame : function(e) {
                return _(),
                setTimeout(e, .01)
            }
            ,
            p.id = s(v)
        }, G = function() {
            return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : new Date().getTime()
        }, J = function() {
            var e = this;
            e._mTween || (e._mTween = {
                top: {},
                left: {}
            });
            for (var t = ["top", "left"], o = 0; o < t.length; o++) {
                var a = t[o];
                e._mTween[a].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(e._mTween[a].id) : clearTimeout(e._mTween[a].id),
                e._mTween[a].id = null,
                e._mTween[a].stop = 1)
            }
        }, K = function(e, t) {
            try {
                delete e[t]
            } catch (o) {
                e[t] = null
            }
        }, Q = function(e) {
            return !(e.which && 1 !== e.which)
        }, Z = function(e) {
            var t = e.originalEvent.pointerType;
            return !(t && "touch" !== t && 2 !== t)
        }, ee = function(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        }, et = function(e) {
            var t = e.parents(".mCSB_container");
            return [e.offset().top - t.offset().top, e.offset().left - t.offset().left]
        }, eo = function() {
            var e = function e() {
                var t = ["webkit", "moz", "ms", "o"];
                if ("hidden"in document)
                    return "hidden";
                for (var o = 0; o < t.length; o++)
                    if (t[o] + "Hidden"in document)
                        return t[o] + "Hidden";
                return null
            }();
            return !!e && document[e]
        };
        e.fn[o] = function(t) {
            return d[t] ? d[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : d.init.apply(this, arguments)
        }
        ,
        e[o] = function(t) {
            return d[t] ? d[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : d.init.apply(this, arguments)
        }
        ,
        e[o].defaults = n,
        window[o] = !0,
        e(window).bind("load", function() {
            e(a)[o](),
            e.extend(e.expr[":"], {
                mcsInView: e.expr[":"].mcsInView || function(t) {
                    var o, a, n = e(t), i = n.parents(".mCSB_container");
                    if (i.length)
                        return o = i.parent(),
                        (a = [i[0].offsetTop, i[0].offsetLeft])[0] + et(n)[0] >= 0 && a[0] + et(n)[0] < o.height() - n.outerHeight(!1) && a[1] + et(n)[1] >= 0 && a[1] + et(n)[1] < o.width() - n.outerWidth(!1)
                }
                ,
                mcsInSight: e.expr[":"].mcsInSight || function(t, o, a) {
                    var n, i, r, l, s = e(t), c = s.parents(".mCSB_container"), d = "exact" === a[3] ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]];
                    if (c.length)
                        return n = [s.outerHeight(!1), s.outerWidth(!1)],
                        r = [c[0].offsetTop + et(s)[0], c[0].offsetLeft + et(s)[1]],
                        i = [c.parent()[0].offsetHeight, c.parent()[0].offsetWidth],
                        l = [n[0] < i[0] ? d[0] : d[1], n[1] < i[1] ? d[0] : d[1]],
                        r[0] - i[0] * l[0][0] < 0 && r[0] + n[0] - i[0] * l[0][1] >= 0 && r[1] - i[1] * l[1][0] < 0 && r[1] + n[1] - i[1] * l[1][1] >= 0
                }
                ,
                mcsOverflow: e.expr[":"].mcsOverflow || function(t) {
                    var o = e(t).data("mCS");
                    if (o)
                        return o.overflowed[0] || o.overflowed[1]
                }
            })
        })
    }
    ,
    o = "function" == typeof define && define.amd,
    a = "undefined" != typeof module && module.exports,
    n = "https:" == document.location.protocol ? "https:" : "http:",
    !o && (a ? require("jquery-mousewheel")(e) : e.event.special.mousewheel || e("head").append(decodeURI("%3Cscript src=" + n + "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),
    t()
});
